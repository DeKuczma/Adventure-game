// room script file


function enter_AfterFadeIn(){
  mouse.Mode = eModeWalkto;
}

function repeatedly_execute_always() {
  Object *obj = Object.GetAtScreenXY(mouse.x, mouse.y);
  Character *charact = Character.GetAtScreenXY(mouse.x,  mouse.y);
  Hotspot *hot = Hotspot.GetAtScreenXY(mouse.x,  mouse.y);
  InventoryItem *inv = InventoryItem.GetAtScreenXY(mouse.x,  mouse.y);
  if (obj == null && charact == null && hot == null && inv == null && mouse.Mode != eModeUseinv)
  {
    Mouse.Mode = eModeWalkto;
  } 
}

function on_mouse_click(MouseButton button) {
  // called when a mouse button is clicked. button is either LEFT or RIGHT
  if (button == eMouseLeft) {
    Room.ProcessClick(mouse.x, mouse.y, mouse.Mode );
  }
  if (mouse.Mode == eModeUseinv){
     mouse.Mode = eModeWalkto;
  }
}