// room script file

int items_to_collect = 7;

function room_Load()
{
    walkingChannel = aWalking_on_wooden_floor.Play();
    walkingChannel.Stop();
    backgroundChannel = aScene_1___Beach_theme.Play();
    cFabien.ChangeRoom(2, 750,  620);
    
}



function oWloszczyzna_Interact()
{
  items_to_collect--;
  cFabien.Say("Wloszczyzna");
  cFabien.Walk(200, 750,  eBlock,  eWalkableAreas);
  oWloszczyzna.Visible = false;
  cFabien.AddInventory(iWloszczyzna);  
  if (items_to_collect != 0){
    cFabien.Say(String.Format("Zostaly %d itemy do zebrania", items_to_collect), eBlock);
  }
  else {
     cFabien.Say("Wszystko mam. Moge isc do druida", eBlock);
  }
}

function oOgorek_Interact()
{
  items_to_collect--;
  cFabien.Say("Ogorek");
  cFabien.Walk(200, 750,  eBlock,  eWalkableAreas);
  oOgorek.Visible = false;
  cFabien.AddInventory(iOgorek); 
  if (items_to_collect != 0){
    cFabien.Say(String.Format("Zostaly %d itemy do zebrania", items_to_collect), eBlock);
  }
  else {
     cFabien.Say("Wszystko mam. Moge isc do druida", eBlock);
  }
}

function oLisc_Interact()
{
  items_to_collect--;
  cFabien.Say("Lisc Laurowy");
  cFabien.Walk(550, 750,  eBlock,  eWalkableAreas);
  oLisc.Visible = false;
  cFabien.AddInventory(iLisc); 
  if (items_to_collect != 0){
    cFabien.Say(String.Format("Zostaly %d itemy do zebrania", items_to_collect), eBlock);
  }
  else {
     cFabien.Say("Wszystko mam. Moge isc do druida", eBlock);
  }
}

function oKoper_Interact()
{
  items_to_collect--;
  cFabien.Say("Koper");
  cFabien.Walk(700, 750,  eBlock,  eWalkableAreas);
  oKoper.Visible = false;
  cFabien.AddInventory(iKoper); 
  if (items_to_collect != 0){
    cFabien.Say(String.Format("Zostaly %d itemy do zebrania", items_to_collect), eBlock);
  }
  else {
     cFabien.Say("Wszystko mam. Moge isc do druida", eBlock);
  }
}

function oKostka_Interact()
{
  items_to_collect--;
  cFabien.Say("Kostka rosolowa");
  cFabien.Walk(850, 750,  eBlock,  eWalkableAreas);
  oKostka.Visible = false;
  cFabien.AddInventory(iKostka); 
  if (items_to_collect != 0){
    cFabien.Say(String.Format("Zostaly %d itemy do zebrania", items_to_collect), eBlock);
  }
  else {
     cFabien.Say("Wszystko mam. Moge isc do druida", eBlock);
  }
}

function oZiemniaki_Interact()
{
  items_to_collect--;
  cFabien.Say("Ziemniaki");
  cFabien.Walk(1050, 750,  eBlock,  eWalkableAreas);
  oZiemniaki.Visible = false;
  cFabien.AddInventory(iZiemniaki); 
  if (items_to_collect != 0){
    cFabien.Say(String.Format("Zostaly %d itemy do zebrania", items_to_collect), eBlock);
  }
  else {
     cFabien.Say("Wszystko mam. Moge isc do druida", eBlock);
  }
}

function hChatka_Interact()
{
  if(items_to_collect != 0){
    cFabien.Say("Jeszczenie zebralem wszystkich skladnikow. Nie Moge isc do druida.");
  }
  else {
    cFabien.Say("Mam wszystkie skladniki. Czas sie udac do druida.");
    cFabien.Walk(1150,  600,  eBlock, eWalkableAreas);
    backgroundChannel.Stop();
    cFabien.LoseInventory(iWloszczyzna);
    cFabien.LoseInventory(iOgorek);
    cFabien.LoseInventory(iKoper);
    cFabien.LoseInventory(iLisc);
    cFabien.LoseInventory(iKostka);
    cFabien.LoseInventory(iZiemniaki);
    cFabien.LoseInventory(iJogurt);
    cFabien.ChangeRoom(2, 750,  620);
  }
}

function oJogurt_AnyClick()
{
  cFabien.AddInventory(iJogurt);
  oJogurt.Visible = false;
  items_to_collect--;
}

function room_RepExec()
{
  if(cFabien.Moving && walkingSound == false){
    walkingChannel = aWalking_on_wooden_floor.Play();
    walkingSound = true;
  }
  else if (!cFabien.Moving){
    walkingSound = false;
    walkingChannel.Stop();
  }
}
